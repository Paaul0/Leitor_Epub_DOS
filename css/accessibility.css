/* ==========================================================================
   Acessibilidade Geral
   ========================================================================== */
.visually-hidden {
    position: absolute;
    opacity: 0;
    width: 1px;
    height: 1px;
    margin: -1px;
    padding: 0;
    overflow: hidden;
    border: 0;
    clip: rect(0 0 0 0);
}

#leitor:focus-within {
    outline: 3px solid #007AFF;
    outline-offset: -3px;
}

body.modo-acessivel {
    margin: 0 !important;
}

#sumario-container a:focus,
#panel-sumario a:focus {
    outline: 2px solid black;
}

.theme-control input[type="radio"]:focus+.theme-preview {
    outline: 2px solid #007AFF;
    outline-offset: 2px;
}

/* ==========================================================================
   Modo Acessível - Ajustes Específicos
   ========================================================================== */

.search-highlight-accessible {
    background-color: #ffda00;
    color: #000000;
    font-weight: bold;
}

.note-item.search-result {
    display: block;
    width: 100%;
    background: none;
    border: none;
    border-bottom: 1px solid #D1D1D1;
    padding: 15px 5px;
    margin: 0;
    text-align: left;
    cursor: pointer;
    font-family: inherit;
    font-size: inherit;
}

.note-item.search-result:last-child {
    border-bottom: none;
}

.note-item.search-result:hover,
.note-item.search-result:focus {
    background-color: #E8E8E8;
    outline: 2px solid #007AFF;
    outline-offset: -2px;
}

.note-item.search-result mark {
    background-color: #ffda00;
    color: #000;
}

/* Esconde funcionalidades incompatíveis com o modo acessível */
.feature-disabled {
    display: none !important;
}

body.modo-acessivel #fixed-context-menu .menu-tools button {
    display: none;
}

body.modo-acessivel #fixed-context-menu .menu-tools #fixed-increase-font-btn,
body.modo-acessivel #fixed-context-menu .menu-tools #fixed-decrease-font-btn,
body.modo-acessivel #fixed-context-menu .menu-tools #fixed-contrast-btn {
    display: block;
}

body.modo-acessivel #fixed-context-menu #btn-toggle-fixed-menu {
    display: block;
}

body.high-contrast-mode {
    background-color: #000000 !important;
    color: #FFFF00 !important; /* Amarelo */
}

body.high-contrast-mode header,
body.high-contrast-mode aside,
body.high-contrast-mode footer,
body.high-contrast-mode .sidebar-completa,
body.high-contrast-mode .titulo,
body.high-contrast-mode .progresso,
body.high-contrast-mode .toc-footer,
body.high-contrast-mode #search-bar,
body.high-contrast-mode #search-nav-controls,
body.high-contrast-mode #fixed-context-menu,
body.high-contrast-mode .menu-modal-content,
body.high-contrast-mode .menu-header,
body.high-contrast-mode .menu-tabs,
body.high-contrast-mode #btn-show-sidebar,
body.high-contrast-mode .modal-content {
    background-color: #000000 !important;
    color: #FFFF00 !important;
    border-color: #FFFF00 !important;
}

body.high-contrast-mode p,
body.high-contrast-mode span,
body.high-contrast-mode li,
body.high-contrast-mode h1,
body.high-contrast-mode h2,
body.high-contrast-mode h3,
body.high-contrast-mode h4,
body.high-contrast-mode h5,
body.high-contrast-mode h6,
body.high-contrast-mode label,
body.high-contrast-mode legend,
body.high-contrast-mode blockquote {
    color: #FFFF00 !important;
}

body.high-contrast-mode a,
body.high-contrast-mode .note-item .note-comment {
    color: #00FFFF !important;
    text-decoration: underline !important;
}

body.high-contrast-mode button,
body.high-contrast-mode select,
body.high-contrast-mode input[type="radio"],
body.high-contrast-mode input[type="checkbox"],
body.high-contrast-mode input[type="range"] {
    background-color: #000000 !important;
    color: #FFFF00 !important;
    border: 1px solid #FFFF00 !important;
}
body.high-contrast-mode button:hover,
body.high-contrast-mode button:focus {
    background-color: #333300 !important;
    outline: 2px solid #00FFFF !important;
}
body.high-contrast-mode button:disabled {
    opacity: 0.6 !important;
    border-color: #888800 !important;
    color: #888800 !important;
}
body.high-contrast-mode select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    padding-right: 1em;
}

body.high-contrast-mode button img {
    filter: invert(1) sepia(1) saturate(5) hue-rotate(30deg);
}

body.high-contrast-mode #leitor iframe body,
body.high-contrast-mode #leitor-acessivel {
    background-color: #000000 !important;
    color: #FFFF00 !important;
}
body.high-contrast-mode #leitor iframe p,
body.high-contrast-mode #leitor iframe span,
body.high-contrast-mode #leitor iframe li,
body.high-contrast-mode #leitor iframe h1,
body.high-contrast-mode #leitor iframe h2,
body.high-contrast-mode #leitor iframe h3,
body.high-contrast-mode #leitor iframe h4,
body.high-contrast-mode #leitor iframe h5,
body.high-contrast-mode #leitor iframe h6,
body.high-contrast-mode #leitor-acessivel p,
body.high-contrast-mode #leitor-acessivel span,
body.high-contrast-mode #leitor-acessivel li,
body.high-contrast-mode #leitor-acessivel h1,
body.high-contrast-mode #leitor-acessivel h2,
body.high-contrast-mode #leitor-acessivel h3,
body.high-contrast-mode #leitor-acessivel h4,
body.high-contrast-mode #leitor-acessivel h5,
body.high-contrast-mode #leitor-acessivel h6 {
    color: #FFFF00 !important;
}
body.high-contrast-mode #leitor iframe a,
body.high-contrast-mode #leitor-acessivel a {
    color: #00FFFF !important;
    text-decoration: underline !important;
}

body.high-contrast-mode * {
    background-image: none !important;
}

body.high-contrast-mode #sumario-container ul {
    background-color: #000000 !important;
}
body.high-contrast-mode #sumario-container li {
    color: #FFFF00 !important;
}

body.high-contrast-mode #leitor iframe div,
body.high-contrast-mode #leitor-acessivel div {
    color: #FFFF00 !important;
    background-color: transparent !important;
}

body.high-contrast-mode #leitor iframe div *,
body.high-contrast-mode #leitor-acessivel div * {
    color: inherit !important;
    background-color: transparent !important;
}